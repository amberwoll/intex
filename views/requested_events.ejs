<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Requested Events</title>
    <style>
      table {
        width: 100%;
        margin: 20px auto;
        border-collapse: collapse;
        font-size: 12px;
      }
      th, td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: center;
      }
      th {
        background-color: #f2f2f2;
        font-weight: bold;
      }
      button {
        padding: 4px 8px;
        margin: 2px;
        font-size: 12px;
        cursor: pointer;
      }
      h1 {
        text-align: center;
        margin: 20px 0;
      }
      .form-container {
        display: flex;
        justify-content: center;
        margin: 20px 0;
      }
    </style>
  </head>
  <body>
    <h1>Requested Events</h1>
    <form action="/" method="GET">
      <button type="submit">Home</button>
    </form>
    <table>
      <thead>
        <tr>
          <th>Event Number</th>
          <th>Host ID</th>
          <th>Event Description</th>
          <th>Number of Sewers</th>
          <th>Number of Non-Sewers</th>
          <th>Number of Children</th>
          <th>Sewing Abbreviation</th>
          <th>Possible Date 1</th>
          <th>Possible Date 2</th>
          <th>Street</th>
          <th>City</th>
          <th>State</th>
          <th>Zip</th>
          <th>Event Length</th>
          <th>Organization</th>
          <th>Jen Story</th>
          <th>Status</th>
          <th>Machine</th>
          <th>Size of Space</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <% events.forEach(event => { %>
          <tr>
            <td><%= event.event_number %></td>
            <td><%= event.host_id %></td>
            <td><%= event.event_description %></td>
            <td><%= event.number_of_sewers %></td>
            <td><%= event.number_of_nonsewers %></td>
            <td><%= event.number_of_children %></td>
            <td><%= event.sewing_abbreviation %></td>
            <td><%= event.possible_date_1 %></td>
            <td><%= event.possible_date_2 %></td>
            <td><%= event.street %></td>
            <td><%= event.city %></td>
            <td><%= event.state %></td>
            <td><%= event.zip %></td>
            <td><%= event.event_length %></td>
            <td><%= event.organization %></td>
            <td><%= event.jen_story %></td>
            <td>
              <form action="/updateEventStatus/<%= event.event_number %>" method="POST">
                <select name="status">
                  <option value="Pending" <%= event.status === "Pending" ? "selected" : "" %>>Pending</option>
                  <option value="Approved" <%= event.status === "Approved" ? "selected" : "" %>>Approved</option>
                  <option value="Complete" <%= event.status === "Complete" ? "selected" : "" %>>Complete</option>
                  <option value="Rejected" <%= event.status === "Rejected" ? "selected" : "" %>>Rejected</option>
                </select>
                
              </form>
            </td>
            <td><%= event.machine %></td>
            <td><%= event.size_of_space %></td>
            <td>
              <button type="submit">Save</button>
              
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  </body>
</html>
